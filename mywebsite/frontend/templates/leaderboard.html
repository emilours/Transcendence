{% load static %}
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<div class="flex-grow-1 d-flex flex-column mb-4">
	<div class="container mt-5 pt-2">
		<div class="d-flex justify-content-between align-items-center">
			<h1 class="card-title text-center font-balsamiq text-secondary-emphasis">Leaderboard</h1>
			<img src="{% static 'img/pusheen-leaderboard.gif' %}" alt="gif de pusheen" width="100" height="100">
		</div>
		<div class="card shadow rounded-2">
			<div class="card-header text-center bg-primary font-balsamiq text-secondary-emphasis rounded-top-2 pt-3">
				<h2 class="fs-4">PONG</h2>
			</div>
			<div class="card-body p-3">
				<table class="table table-striped table-hover leaderboard-table">
					<thead>
						<tr class="font-balsamiq">
							<th class="text-secondary-emphasis">RANK</th>
							<th class="text-secondary-emphasis">SCORE</th>
							<th class="text-secondary-emphasis">PLAYER</th>
							<th class="text-secondary-emphasis">DATE</th>
							<th class="text-secondary-emphasis">GAME</th>
						</tr>
					</thead>
					<tbody id="leaderboard-body">
						{% if pong_leaderboard %}
							{% for rank, entry in pong_leaderboard %}
								<tr>
									<td class="text-secondary-emphasis">{{ rank }}</td>
									<td class="text-secondary-emphasis">{{ entry.score }}</td>
									<td class="text-secondary-emphasis">
										<a href="{% url 'user_dashboard' entry.player.display_name %}">
											{{ entry.player.display_name }}
										</a>
									</td>
									<td class="text-secondary-emphasis">{{ entry.match.date|date:"Y-m-d" }}</td>
									<td class="text-secondary-emphasis">{{ entry.match.game.name }}</td>
								</tr>
							{% endfor %}
						{% else %}
							<tr>
								<td colspan="5" class="text-center text-secondary-emphasis">No games</td>
							</tr>
						{% endif %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="container mt-4 pt-2">
		<div class="card shadow rounded-2">
			<div class="card-header text-center bg-primary font-balsamiq text-secondary-emphasis rounded-top-2 pt-3">
				<h2 class="fs-4">INVADERS</h2>
			</div>
			<div class="card-body p-3">
				<table class="table table-striped table-hover leaderboard-table">
					<thead>
						<tr class="font-balsamiq">
							<th class="text-secondary-emphasis">RANK</th>
							<th class="text-secondary-emphasis">SCORE</th>
							<th class="text-secondary-emphasis">PLAYER</th>
							<th class="text-secondary-emphasis">DATE</th>
							<th class="text-secondary-emphasis">GAME</th>
						</tr>
					</thead>
					<tbody id="leaderboard-body">
						{% if invaders_leaderboard %}
							{% for rank, entry in invaders_leaderboard %}
								<tr>
									<td class="text-secondary-emphasis">{{ rank }}</td>
									<td class="text-secondary-emphasis">{{ entry.score }}</td>
									<td class="text-secondary-emphasis">
										<a href="{% url 'user_dashboard' entry.player.display_name %}">
											{{ entry.player.display_name }}
										</a>
									<td class="text-secondary-emphasis">{{ entry.match.date|date:"Y-m-d" }}</td>
									<td class="text-secondary-emphasis">{{ entry.match.game.name }}</td>
								</tr>
							{% endfor %}
						{% else %}
							<tr>
								<td colspan="5" class="text-center text-secondary-emphasis">No games</td>
							</tr>
						{% endif %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
